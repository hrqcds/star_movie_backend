generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model Movies {
  id          String    @id @default(uuid())
  title       String    @unique
  note        Int?      @default(0)
  img_url     String
  description String
  userId      String?
  User        User?     @relation(fields: [userId], references: [id])
  posts       Posts[]
  created_at  DateTime? @default(now())
  updated_at  DateTime? @updatedAt
  deleted_at  DateTime?

  @@map("movies")
}

model User {
  id         String    @id @default(uuid())
  name       String
  email      String    @unique
  password   String
  movies     Movies[]
  postsId    String?
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
  deleted_at DateTime?

  @@map("users")
}

model Posts {
  id         String    @id @default(uuid())
  title      String
  content    String
  note       Int?
  user_name  String
  Movies     Movies?   @relation(fields: [moviesId], references: [id])
  moviesId   String?
  created_at DateTime? @default(now())

  @@map("comments")
}
